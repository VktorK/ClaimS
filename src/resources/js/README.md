# Frontend Integration Documentation

## Обзор

Создана полная фронтовая часть для управления продуктами (Products) и продавцами (Sellers) с интеграцией с Laravel API.

## Структура файлов

```
resources/js/
├── services/
│   └── api.js                 # API сервисы для Product и Seller
├── components/
│   ├── ProductList.vue        # Список продуктов с фильтрацией и поиском
│   ├── ProductForm.vue        # Форма создания/редактирования продукта
│   ├── SellerList.vue         # Список продавцов в виде карточек
│   ├── SellerForm.vue         # Форма создания/редактирования продавца
│   ├── SellerProducts.vue     # Просмотр продуктов продавца
│   └── App.vue               # Главный компонент с навигацией (обновлен)
├── pages/
│   ├── Products.vue          # Страница управления продуктами
│   └── Sellers.vue          # Страница управления продавцами
└── app.js                   # Настройка Vue Router и приложения (обновлен)
```

## API Сервисы

### ProductAPI

Методы для работы с продуктами:

- `getProducts(params)` - получить список продуктов с фильтрацией
- `getProduct(id)` - получить конкретный продукт
- `createProduct(data)` - создать новый продукт
- `updateProduct(id, data)` - обновить продукт
- `deleteProduct(id)` - удалить продукт
- `getStatistics()` - получить статистику по продуктам
- `getProductsBySeller(sellerId)` - получить продукты продавца

### SellerAPI

Методы для работы с продавцами:

- `getSellers(params)` - получить список продавцов с фильтрацией
- `getSeller(id)` - получить конкретного продавца
- `createSeller(data)` - создать нового продавца
- `updateSeller(id, data)` - обновить продавца
- `deleteSeller(id)` - удалить продавца
- `getStatistics()` - получить статистику по продавцам
- `getSellerProducts(id)` - получить продукты продавца

## Компоненты

### ProductList.vue

**Функциональность:**
- Отображение списка продуктов в табличном виде
- Поиск по названию, модели, серийному номеру
- Фильтрация по продавцу
- Сортировка по различным полям
- Пагинация
- Создание, редактирование и удаление продуктов

**Props:**
- Нет внешних props

**Events:**
- Внутренние события для управления модальными окнами

### ProductForm.vue

**Функциональность:**
- Модальное окно для создания/редактирования продукта
- Валидация полей
- Интеграция с API
- Выбор продавца из списка

**Props:**
- `product` (Object) - продукт для редактирования (null для создания)
- `sellers` (Array) - список продавцов для выбора

**Events:**
- `close` - закрытие модального окна
- `saved` - успешное сохранение продукта

### SellerList.vue

**Функциональность:**
- Отображение продавцов в виде карточек
- Поиск по названию или ОГРН
- Фильтрация по наличию ОГРН
- Статистика для каждого продавца
- Просмотр продуктов продавца
- Создание, редактирование и удаление продавцов

**Props:**
- Нет внешних props

### SellerForm.vue

**Функциональность:**
- Модальное окно для создания/редактирования продавца
- Валидация ОГРН (13-15 цифр)
- Поддержка многострочного адреса

**Props:**
- `seller` (Object) - продавец для редактирования (null для создания)

**Events:**
- `close` - закрытие модального окна
- `saved` - успешное сохранение продавца

### SellerProducts.vue

**Функциональность:**
- Модальное окно для просмотра продуктов продавца
- Отображение информации о продавце
- Список всех продуктов с деталями
- Подсчет общей стоимости

**Props:**
- `seller` (Object, required) - данные продавца

**Events:**
- `close` - закрытие модального окна

## Страницы

### Products.vue

**Функциональность:**
- Страница управления продуктами
- Отображение статистики (общее количество, стоимость, средняя цена)
- Хлебные крошки для навигации
- Интеграция с ProductList компонентом

### Sellers.vue

**Функциональность:**
- Страница управления продавцами
- Отображение статистики (общее количество, с/без ОГРН)
- Топ продавцов по количеству продуктов
- Интеграция с SellerList компонентом

## Маршруты

Добавлены новые маршруты в Vue Router:

```javascript
const routes = [
    // ... существующие маршруты
    { 
        path: '/products', 
        component: Products,
        meta: { requiresAuth: true, title: 'Продукты' }
    },
    { 
        path: '/sellers', 
        component: Sellers,
        meta: { requiresAuth: true, title: 'Продавцы' }
    },
    { path: '/dashboard', redirect: '/' },
];
```

## Аутентификация

### Guard маршрутов

Реализована защита маршрутов с проверкой токена:

```javascript
router.beforeEach((to, from, next) => {
    const token = localStorage.getItem('token');
    
    if (to.matched.some(record => record.meta.requiresAuth)) {
        if (!token) {
            next('/login');
        } else {
            next();
        }
    } else {
        next();
    }
});
```

### API запросы

Все API запросы включают Authorization заголовок:

```javascript
headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${localStorage.getItem('token')}`
}
```

## Уведомления

Реализована простая система уведомлений через глобальное свойство `$toast`:

```javascript
// В компонентах:
this.$toast.success('Операция выполнена успешно');
this.$toast.error('Произошла ошибка');
this.$toast.info('Информационное сообщение');
```

## Навигация

Обновлена главная навигация в `App.vue`:
- Ссылки "Продукты" и "Продавцы" отображаются только для авторизованных пользователей
- Автоматическое обновление состояния аутентификации

## Стилизация

### Общие принципы
- Используется современный CSS Grid и Flexbox
- Адаптивный дизайн для мобильных устройств
- Единообразная цветовая схема
- Hover эффекты и плавные переходы

### Компоненты стилизации
- Модальные окна с затемненным фоном
- Карточки с тенями и hover эффектами
- Таблицы с чередующимися строками
- Кнопки с различными состояниями
- Адаптивные формы

## Использование

### Для запуска фронтенда:

1. Убедитесь, что Laravel API работает
2. Авторизуйтесь в системе
3. Перейдите на страницы `/products` или `/sellers`

### Для разработки:

1. Все изменения в Vue компонентах требуют компиляции
2. API эндпоинты должны быть доступны на том же домене
3. Токен аутентификации должен храниться в localStorage

## Особенности интеграции

### Работа с UUID
- Все API методы работают с UUID вместо числовых ID
- Валидация UUID на фронтенде не требуется (обрабатывается бэкендом)

### Форматирование данных
- Цены автоматически форматируются в рублях
- Даты отображаются в русском формате
- Длинные названия обрезаются с многоточием

### Обработка ошибок
- Ошибки API отображаются пользователю
- Валидация формы показывает ошибки под полями
- Загрузочные состояния для всех операций

## Возможные улучшения

1. **Система уведомлений**: Заменить alert() на более красивые toast уведомления
2. **Кэширование**: Добавить кэширование API запросов
3. **Оптимистичные обновления**: Обновлять UI до ответа сервера
4. **Бесконечная прокрутка**: Заменить пагинацию на бесконечную прокрутку
5. **Фильтры**: Расширить возможности фильтрации данных
6. **Экспорт данных**: Добавить возможность экспорта в Excel/PDF
7. **Drag & Drop**: Добавить возможность загрузки файлов перетаскиванием
